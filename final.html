<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title></title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: calc(var(--vh) * 100);
        overflow: hidden; /* 禁止滚动，防止地址栏变化 */
        touch-action: none; /* 禁止触摸滚动 */
        font-family: 'Microsoft YaHei', sans-serif;
        background: radial-gradient(circle at center, #fff0f5 0%, #ffe6f0 100%), url('bg.jpg');
        background-size: cover;
        background-position: center;
        color: #d6336c;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        position: relative;
    }
    /* 文字区域背景柔和 */
    #container {
        position: relative;
        z-index: 2;
        padding: 15px 25px;
        background: linear-gradient(
            to bottom,
            rgba(255, 255, 255, 0.15) 0%,
            rgba(255, 255, 255, 0.05) 100%
        );
        border-radius: 12px;
        backdrop-filter: blur(2px);
    }
    /* 文字样式：描边+阴影 */
    .line {
        font-size: 1.8em;
        margin: 10px 0;
        color: #d6336c;
        text-shadow: 0 2px 4px rgba(255,255,255,0.8), 0 0 6px rgba(255,105,180,0.5);
        -webkit-text-stroke: 0.5px rgba(255,255,255,0.6);
        white-space: pre-line;
    }
    /* 漂浮心形（透明背景PNG） */
    .heart {
        position: absolute;
        width: 50px;
        height: 50px;
        background: url('heart.png') no-repeat center/contain;
        filter: drop-shadow(0 0 6px rgba(255,105,180,0.8));
        opacity: 0;
        animation: driftPath 8s ease-in-out forwards;
        pointer-events: none;
        z-index: 1;
    }
    /* 不规则漂浮路径（使用translate避免vh抖动） */
    @keyframes driftPath {
        0% { transform: translate(0,0) scale(0.8); opacity: 0; }
        10% { opacity: 1; }
        25% { transform: translate(20px,-30px) rotate(10deg); }
        50% { transform: translate(-15px,-60px) rotate(-8deg); }
        75% { transform: translate(25px,-90px) rotate(6deg); }
        100% { transform: translate(-10px,-120px) scale(1); opacity: 0; }
    }
</style>
</head>
<body>
    <div id="container"></div>

    <!-- 背景音乐：Kiss the Rain -->
    <audio id="bgm" src="https://archive.org/download/Yiruma-MayBe/KissTheRain-Yiruma_3mfg2.mp3" loop></audio>

<script>
/* 修复移动端vh抖动 */
function setVh() {
    document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');
}
setVh();
window.addEventListener('resize', setVh);

const lines = [
    "2025年11月9日，我们第一次加上微信",
    "印象中聊得还不错，后面就约了见面",
    "见面后的第一感觉就是，比想象中矮了一点，性格直爽，有啥说啥，毫不忌讳",
    "但最让我印象深刻的你知道是什么吗",
    "不知道你还记不记得，当时我们讨论过一个路过卖麦芽糖的老人，你说你会关注他这种人",
    "总之，我们的第一次见面还是很愉快的，对吧",
    "但是，接下来的几天微信上聊崩了，你一气之下直接删了我的微信",
    "因为什么，因为我变着法的求你生孩子，让你很有压迫感",
    "关于这一点我深刻检讨自己，孩子应该是两人爱情的结晶，而不是一项任务",
    "于是，我厚着脸皮申请加回你的微信",
    "还好，你最终还是通过了我的申请，我十分开心",
    "后来，你在微信上给我发关于两性对立的问题，看我是怎么想的",
    "毫无疑问，我俩争论，争吵，最后一发不可收拾",
    "你很生气，说了什么我忘了，当时的我以为你已经决定不选择我了",
    "于是，我直接删了你的微信",
    "第二天，还是第三天？我也忘了过了几天，你有问题问我，结果发现我已经删了你，就来问我为什么删",
    "我们又说了许多，但我都忘了说了些啥",
    "再后来，你觉得我抠搜，不愿意为你付出。我也解释道，因为我缺乏安全感，有些事想做但不敢做",
    "可能你也没听进去，你说了句,下次见面，你请客然后结束接触，不见不散",
    "我听得一愣一愣的，如果结果是结束接触，那何必再见面呢",
    "于是，我又一次删了你的微信",
    "但是，你居然又来加我了，你果然是这么的与众不同",
    "还好，即使一波三折，我们仍在向彼此靠近",
    "虽然你会提很多要求，但我觉得你心眼不坏",
    "虽然你有时候说话带刺，但我相信你是刀子嘴豆腐心",
    "虽然我们有些地方观点不一致，但我们彼此愿意为对方做出改变",
    "想和你一起宅家",
    "想和你一起做饭",
    "想和你一起散步",
    "想和你一起打球",
    "想和你一起逛街",
    "想和你一起旅游",
    "想和你做你想做的任何事",
    "所以......"
];

let lineIndex = 0;
let charIndex = 0;
let speed = 100;
let heartsStarted = false;

function typeLine() {
    if (lineIndex < lines.length) {
        let lineDiv = document.createElement("div");
        lineDiv.className = "line";
        document.getElementById("container").appendChild(lineDiv);

        function typeChar() {
            if (charIndex < lines[lineIndex].length) {
                lineDiv.textContent += lines[lineIndex][charIndex];
                charIndex++;
                setTimeout(typeChar, speed);
            } else {
                if (lineIndex === lines.length - 3 && !heartsStarted) {
                    heartsStarted = true;
                    startHearts();
                }
                lineIndex++;
                charIndex = 0;
                setTimeout(typeLine, 500);
            }
        }
        typeChar();
    }
}

// 生成漂浮心形（用translate避免vh抖动）
function startHearts() {
    setInterval(() => {
        let heart = document.createElement("div");
        heart.className = "heart";

        let leftPos = Math.random() * 100;
        heart.style.left = leftPos + "vw";
        heart.style.animationDuration = (6 + Math.random() * 4) + "s";

        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 10000);
    }, 500); // 降低频率减少性能压力
}

// 点击页面播放音乐（解决浏览器自动播放限制）
document.addEventListener("click", () => {
    const bgm = document.getElementById("bgm");
    bgm.play();
});

typeLine();
</script>
</body>
</html>


